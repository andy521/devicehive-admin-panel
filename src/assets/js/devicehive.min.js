!function t(e,s,i){function r(o,a){if(!s[o]){if(!e[o]){var d="function"==typeof require&&require;if(!a&&d)return d(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=s[o]={exports:{}};e[o][0].call(c.exports,function(t){var s=e[o][1][t];return r(s||t)},c,c.exports,t,e,s,i)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,s){window.DeviceHive=t(12)},{12:12}],12:[function(t,e,s){const i=t(3),r=t(11),n=t(21),o=t(15),a=t(18),d=t(22),u=t(19),c=t(14),h=t(16),p=t(17),m=t(23),l=t(20),g=t(33),f=t(34),_=t(35),y=t(36),v=t(37),I=t(38),w=t(39),b=t(42),k=t(40),T=t(41),N=t(43),A=t(44),P=t(45),E=t(46),O=t(47),U=t(48),S=t(49),x=t(50),C=t(59),j=t(51),D=t(52),B=t(53),L=t(54),M=t(55),F=t(60),R=t(61),G=t(56),H=t(57),q=t(58),K=t(29),Q=t(27);e.exports=class extends i{static get models(){return{Command:g,Configuration:f,Device:_,DeviceType:y,Network:v,Notification:I,Plugin:w,PluginToken:k,User:T,UserToken:b,query:{CommandListQuery:N,CommandPollManyQuery:A,CommandPollQuery:P,CommandWaitQuery:E,DeviceCountQuery:O,DeviceListQuery:U,DeviceTypeCountQuery:S,DeviceTypeListQuery:x,PluginUpdateQuery:C,NetworkCountQuery:j,NetworkListQuery:D,NotificationListQuery:B,NotificationPollManyQuery:L,NotificationPollQuery:M,UserCountQuery:F,UserListQuery:R,PluginCountQuery:G,PluginListQuery:H,PluginRegisterQuery:q}}}constructor({accessToken:t,refreshToken:e,login:s,password:i,mainServiceURL:g,authServiceURL:f,pluginServiceURL:_}){super();const y=this;y.accessToken=t,y.refreshToken=e,y.login=s,y.password=i,y.strategy=new r({mainServiceURL:g,authServiceURL:f,pluginServiceURL:_}),y.info=new n({strategy:y.strategy}),y.device=new o({strategy:y.strategy}),y.token=new d({strategy:y.strategy}),y.network=new u({strategy:y.strategy}),y.deviceType=new a({strategy:y.strategy}),y.configuration=new c({strategy:y.strategy}),y.command=new h({strategy:y.strategy}),y.notification=new p({strategy:y.strategy}),y.user=new m({strategy:y.strategy}),y.plugin=new l({strategy:y.strategy}),y.strategy.on("message",t=>y.emit("message",t)),y.strategy.on("error",t=>y.emit("error",t))}async connect(){const t=this;if(!(t.accessToken||t.refreshToken||t.login&&t.password))throw new K;try{if(t.accessToken)await t.strategy.authorize(t.accessToken);else if(t.refreshToken){const e=await t.token.refresh(t.refreshToken);await t.strategy.authorize(e)}else if(t.login&&t.password){const{accessToken:e}=await t.token.login(t.login,t.password);await t.strategy.authorize(e)}}catch(t){throw new Q}return t}}},{11:11,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,27:27,29:29,3:3,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61}],2:[function(t,e,s){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function n(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var s=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],n(s),n(i))}function o(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(i),s=1;s<e.length;s++)e=(t=n(e,s).join("")).match(i);return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},s=r.exec(t);s;){try{e[s[0]]=decodeURIComponent(s[0])}catch(t){var i=o(s[0]);i!==s[0]&&(e[s[0]]=i)}s=r.exec(t)}e["%C2"]="\ufffd";for(var n=Object.keys(e),a=0;a<n.length;a++){var d=n[a];t=t.replace(new RegExp(d,"g"),e[d])}return t}(t)}}},{}],3:[function(t,e,s){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,s,i,a,d,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(s=this._events[t]))return!1;if(r(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(n(s))for(a=Array.prototype.slice.call(arguments,1),i=(u=s.slice()).length,d=0;d<i;d++)u[d].apply(this,a);return!0},i.prototype.addListener=function(t,e){var s;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var s=!1;function i(){this.removeListener(t,i),s||(s=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var s,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(s=this._events[t]).length,i=-1,s===e||r(s.listener)&&s.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(s)){for(a=o;a-- >0;)if(s[a]===e||s[a].listener&&s[a].listener===e){i=a;break}if(i<0)return this;1===s.length?(s.length=0,delete this._events[t]):s.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(s=this._events[t]))this.removeListener(t,s);else if(s)for(;s.length;)this.removeListener(t,s[s.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],4:[function(t,e,s){t(10),e.exports=self.fetch.bind(self)},{10:10}],10:[function(t,e,s){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=d(e);var s=this.map[t];this.map[t]=s?s+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=d(e)},c.prototype.forEach=function(t,e){for(var s in this.map)this.map.hasOwnProperty(s)&&t.call(e,this.map[s],s,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,s){t.push(s)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,s){t.push([s,e])}),u(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},g.call(f.prototype),g.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var o=[301,302,303,307,308];y.redirect=function(t,e){if(-1===o.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=f,t.Response=y,t.fetch=function(t,s){return new Promise(function(i,r){var n=new f(t,s),o=new XMLHttpRequest;o.onload=function(){var t,e,s={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new c,t.split(/\r?\n/).forEach(function(t){var s=t.split(":"),i=s.shift().trim();if(i){var r=s.join(":").trim();e.append(i,r)}}),e)};s.url="responseURL"in o?o.responseURL:s.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;i(new y(r,s))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&e.blob&&(o.responseType="blob"),n.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var s={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(s[Symbol.iterator]=function(){return s}),s}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,s){t.onload=function(){e(t.result)},t.onerror=function(){s(t.error)}})}function m(t){var e=new FileReader,s=p(e);return e.readAsArrayBuffer(t),s}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,s,i=h(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,s=p(e=new FileReader),e.readAsText(t),s;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),s=new Array(e.length),i=0;i<e.length;i++)s[i]=String.fromCharCode(e[i]);return s.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t,e){var s,i,r=(e=e||{}).body;if(t instanceof f){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(i=(s=e.method||this.method||"GET").toUpperCase(),n.indexOf(i)>-1?i:s),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var s=t.split("="),i=s.shift().replace(/\+/g," "),r=s.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},{}],5:[function(t,e,s){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},s=0;s<10;s++)e["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),d=1;d<arguments.length;d++){for(var u in s=Object(arguments[d]))r.call(s,u)&&(a[u]=s[u]);if(i){o=i(s);for(var c=0;c<o.length;c++)n.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},{}],6:[function(t,e,s){"use strict";var i=t(7),r=t(5);t(2);function n(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}s.stringify=function(t,e){var s=function(t){switch(t.arrayFormat){case"index":return function(e,s,i){return null===s?[n(e,t),"[",i,"]"].join(""):[n(e,t),"[",n(i,t),"]=",n(s,t)].join("")};case"bracket":return function(e,s){return null===s?n(e,t):[n(e,t),"[]=",n(s,t)].join("")};default:return function(e,s){return null===s?n(e,t):[n(e,t),"=",n(s,t)].join("")}}}(e=r({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map(function(i){var r=t[i];if(void 0===r)return"";if(null===r)return n(i,e);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(t){void 0!==t&&o.push(s(i,t,o.length))}),o.join("&")}return n(i,e)+"="+n(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},{2:2,5:5,7:7}],7:[function(t,e,s){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],8:[function(t,e,s){var i=/\{([0-9a-zA-Z_]+)\}/g;e.exports=function(t){var e;if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else{e=new Array(arguments.length-1);for(var s=1;s<arguments.length;++s)e[s-1]=arguments[s]}return e&&e.hasOwnProperty||(e={}),t.replace(i,function(s,i,r){var n;return"{"===t[r-1]&&"}"===t[r+s.length]?i:null===(n=e.hasOwnProperty(i)?e[i]:null)||void 0===n?"":n})}},{}],9:[function(t,e,s){"use strict";e.exports=WebSocket},{}],11:[function(t,e,s){const i=t(3),r=t(62),n=t(63),o=t(13),a=t(65),d=t(31);class u extends i{static getType(t){let e;if(t.startsWith("http")||t.startsWith("https"))e=r;else{if(!t.startsWith("ws")&&!t.startsWith("wss"))throw new d;e=n}return e}constructor({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s}){super();const i=this;i.urlsMap=new Map,i.urlsMap.set(o.MAIN_BASE,t),i.urlsMap.set(o.AUTH_BASE,e),i.urlsMap.set(o.PLUGIN_BASE,s),i.strategy=new(u.getType(t))({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s}),i.strategy.on("message",t=>{i.emit("message",t)})}authorize(t){return this.strategy.authenticate(t)}send(t,e,s){const i=this,d=o.build(i.strategy.type,t,e,s);switch(i.strategy.type){case r.TYPE:d.endpoint=`${i.urlsMap.get(d.base)}${d.endpoint}`;break;case n.TYPE:d.requestId=a.randomString()}return i.strategy.send(d)}}e.exports=u},{13:13,3:3,31:31,62:62,63:63,65:65}],65:[function(t,e,s){e.exports=class{static isObjectEmpty(t){return t&&t.constructor===Object&&0===Object.keys(t).length}static randomString(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},{}],31:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="You are trying to use unsupported transport type.\nPlease, use one of provided in documentation."}}},{}],13:[function(t,e,s){const i=t(24);e.exports=class{static get HTTP_API(){return i.HTTP_API}static get WS_API(){return i.WS_API}static get MAIN_BASE(){return i.MAIN_BASE}static get AUTH_BASE(){return i.AUTH_BASE}static get PLUGIN_BASE(){return i.PLUGIN_BASE}static build(t,e,s,r){return i.build(t,e,s,r)}constructor({strategy:t}){this.strategy=t}send(t,e,s){return this.strategy.send(t,e,s)}}},{24:24}],63:[function(t,e,s){const i=t(64),r=t(65),n=t(9),o=t(32);class a extends i{static get TYPE(){return"ws"}constructor({mainServiceURL:t}){super(),this.type=a.TYPE,this.isOpend=!1,this.socket=new n(t),this.socket.addEventListener("message",t=>{try{const e=JSON.parse(t.data);e.requestId?this.emit(e.requestId,e):this.emit("message",e)}catch(t){console.warn(t)}}),this.socket.addEventListener("error",t=>{this.emit("error",new o(t))})}_getSocket(){return new Promise(t=>{!0===this.isOpend?t(this.socket):this.socket.addEventListener("open",()=>{this.isOpend=!0,t(this.socket)})})}authenticate(t){this.send({action:"authenticate",token:t})}send(t){return this._getSocket().then(()=>{const{requestId:e=r.randomString()}=t;return t.requestId=e,new Promise((s,i)=>{this.socket.send(JSON.stringify(t));const r=n=>{n.requestId===e&&(this.removeListener(t.requestId,r),"success"===n.status?s(n):i(n))};this.addListener(t.requestId,r)})})}}e.exports=a},{32:32,64:64,65:65,9:9}],62:[function(t,e,s){t(4);const i=t(64),r=t(65);class n extends i{static get TYPE(){return"http"}constructor(){super(),this.type=n.TYPE,this.token="",this.subscriptionMap=new Map}authenticate(t){return this.token=t,Promise.resolve()}send({endpoint:t,method:e,body:s,subscription:i,unsubscription:n}){const o=this;if(!0===i){const i=r.randomString(),n=o.initLongPolling(t,e,s);return n.poll(),o.subscriptionMap.set(i,n),Promise.resolve({subscriptionId:i})}if(!0===n){const t=s.subscriptionId,e=o.subscriptionMap.get(t);return e?(e.stop(),o.subscriptionMap.delete(t),Promise.resolve({status:"success"})):Promise.resolve({status:"No such subscription"})}return fetch(t,{headers:o._getHeaders(),method:e,body:JSON.stringify(s)}).then(t=>t.text()).then(t=>{const e=t?JSON.parse(t):{};if(e.error)throw e;return e})}initLongPolling(t,e,s){const i=this;let r=!1;return{poll:function n(){i.send({endpoint:t,method:e,body:s}).then(t=>{r||(t.forEach(t=>i.emit("message",t)),n())}).catch(t=>console.warn(t))},stop:function(){r=!0}}}_getHeaders(){const t={"Content-type":"application/json",Accept:"application/json"};return this.token&&(t.Authorization=`Bearer ${this.token}`),t}}e.exports=n},{4:4,64:64,65:65}],33:[function(t,e,s){e.exports=class{constructor({id:t,command:e,timestamp:s,lastUpdated:i,userId:r,deviceId:n,networkId:o,deviceTypeId:a,parameters:d,lifetime:u,status:c,result:h}={}){this.id=t,this.command=e,this.timestamp=s,this.lastUpdated=i,this.userId=r,this.deviceId=n,this.networkId=o,this.deviceTypeId=a,this.parameters=d,this.lifetime=u,this.status=c,this.result=h}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get notification(){return this._notification}set notification(t){this._notification=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get lastUpdated(){return this._lastUpdated}set lastUpdated(t){this._lastUpdated=t}get userId(){return this._userId}set userId(t){this._userId=t}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get deviceTypeId(){return this._deviceTypeId}set deviceTypeId(t){this._deviceTypeId=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}get lifetime(){return this._lifetime}set lifetime(t){this._lifetime=t}get status(){return this._status}set status(t){this._status=t}get result(){return this._result}set result(t){this._result=t}toObject(){return{id:this.id,command:this.command,timestamp:this.timestamp,lastUpdated:this.lastUpdated,userId:this.userId,deviceId:this.deviceId,networkId:this.networkId,deviceTypeId:this.deviceTypeId,parameters:this.parameters,lifetime:this.lifetime,status:this.status,result:this.result}}toString(){return JSON.stringify(this.toObject())}}},{}],34:[function(t,e,s){e.exports=class{constructor({name:t,value:e,entityVersion:s}={}){this.name=t,this.value=e,this.entityVersion=s}get name(){return this._name}set name(t){this._name=t}get value(){return this._value}set value(t){this._value=t}get entityVersion(){return this._entityVersion}set entityVersion(t){this._entityVersion=t}toObject(){return{name:this.name,value:this.value,entityVersion:this.entityVersion}}toString(){JSON.stringify(this.toObject())}}},{}],35:[function(t,e,s){e.exports=class{constructor({id:t,name:e,data:s,networkId:i,deviceTypeId:r,blocked:n}={}){this.id=t,this.name=e,this.data=s,this.networkId=i,this.deviceTypeId=r,this.blocked=n}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get data(){return this._data}set data(t){this._data=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get deviceTypeId(){return this._deviceTypeId}set deviceTypeId(t){this._deviceTypeId=t}get blocked(){return this._blocked}set blocked(t){this._blocked=t}toObject(){return{id:this.id,name:this.name,data:this.data,networkId:this.networkId,deviceTypeId:this.deviceTypeId,blocked:this.blocked}}toString(){return JSON.stringify(this.toObject())}}},{}],36:[function(t,e,s){e.exports=class{constructor({id:t,name:e,description:s}={}){this.id=t,this.name=e,this.description=s}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}toObject(){return{id:this.id,name:this.name,description:this.description}}toString(){JSON.stringify(this.toObject())}}},{}],37:[function(t,e,s){e.exports=class{constructor({id:t,name:e,description:s}={}){this.id=t,this.name=e,this.description=s}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}toObject(){return{id:this.id,name:this.name,description:this.description}}toString(){JSON.stringify(this.toObject())}}},{}],39:[function(t,e,s){e.exports=class{constructor({id:t,name:e,description:s,topicName:i,filter:r,status:n,subscriptionId:o,userId:a,parameters:d}={}){this.id=t,this.name=e,this.description=s,this.topicName=i,this.filter=r,this.status=n,this.subscriptionId=o,this.userId=a,this.parameters=d}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get filter(){return this._filter}set filter(t){this._filter=t}get status(){return this._status}set status(t){this._status=t}get subscriptionId(){return this._subscriptionId}set subscriptionId(t){this._subscriptionId=t}get userId(){return this._userId}set userId(t){this._userId=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{id:this.id,name:this.name,description:this.description,topicName:this.topicName,filter:this.filter,status:this.status,subscriptionId:this.subscriptionId,userId:this.userId,parameters:this.parameters}}toString(){JSON.stringify(this.toObject())}}},{}],42:[function(t,e,s){e.exports=class{constructor({userId:t,actions:e,networkIds:s,deviceTypeIds:i}={}){this.userId=t,this.actions=e,this.networkIds=s,this.deviceTypeIds=i,this.expiration=expiration}get userId(){return this._userId}set userId(t){this._userId=t}get actions(){return this._actions}set actions(t){this._actions=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get expiration(){return this._expiration}set expiration(t){this._expiration=t}toObject(){return{userId:this.userId,actions:this.actions,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,expiration:this.expiration}}toString(){JSON.stringify(this.toObject())}}},{}],40:[function(t,e,s){e.exports=class{constructor({actions:t,expiration:e,type:s,topicName:i}={}){this.actions=t,this.expiration=e,this.type=s,this.topicName=i}get actions(){return this._actions}set actions(t){this._actions=t}get expiration(){return this._expiration}set expiration(t){this._expiration=t}get type(){return this._type}set type(t){this._type=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}toObject(){return{a:this.actions,e:this.expiration,t:this.type,tpc:this.topicName}}toString(){JSON.stringify(this.toObject())}}},{}],38:[function(t,e,s){e.exports=class{constructor({id:t,notification:e,timestamp:s,parameters:i}={}){this.id=t,this.notification=e,this.timestamp=s,this.parameters=i}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get notification(){return this._notification}set notification(t){this._notification=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{id:this.id,notification:this.notification,timestamp:this.timestamp,parameters:this.parameters}}toString(){JSON.stringify(this.toObject())}}},{}],41:[function(t,e,s){e.exports=class{constructor({id:t,login:e,role:s,status:i,lastLogin:r,data:n,password:o,introReviewed:a,allDeviceTypesAvailable:d}={}){this.id=t,this.login=e,this.role=s,this.status=i,this.lastLogin=r,this.data=n,this.password=o,this.introReviewed=a,this.allDeviceTypesAvailable=d}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get login(){return this._login}set login(t){this._login=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}get lastLogin(){return this._lastLogin}set lastLogin(t){this._lastLogin=t}get data(){return this._data}set data(t){this._data=t}get password(){return this._password}set password(t){this._password=t}get introReviewed(){return this._introReviewed}set introReviewed(t){this._introReviewed=t}get allDeviceTypesAvailable(){return this._allDeviceTypesAvailable}set allDeviceTypesAvailable(t){this._allDeviceTypesAvailable=t}toObject(){return{id:this.id,login:this.login,role:this.role,status:this.status,lastLogin:this.lastLogin,data:this.data,password:this.password,introReviewed:this.introReviewed,allDeviceTypesAvailable:this.allDeviceTypesAvailable}}toString(){JSON.stringify(this.toObject())}}},{}],29:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="No authentication credentials provided.\nPlease, use credentials provided in documentation."}}},{}],27:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="Invalid credentials error during attempt to authenticate."}}},{}],45:[function(t,e,s){e.exports=class{constructor({deviceId:t,names:e,timestamp:s,returnUpdatedCommands:i,waitTimeout:r,limit:n}={}){const o=this;o.deviceId=t,o.names=e,o.timestamp=s,o.returnUpdatedCommands=i,o.waitTimeout=r,o.limit=n}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}get limit(){return this._limit}set limit(t){this._limit=t}toObject(){const t=this;return{deviceId:t.deviceId,names:t.names,timestamp:t.timestamp,returnUpdatedCommands:t.returnUpdatedCommands,waitTimeout:t.waitTimeout,limit:t.limit}}}},{}],44:[function(t,e,s){e.exports=class{constructor({deviceIds:t,networkIds:e,deviceTypeIds:s,names:i,timestamp:r,waitTimeout:n,limit:o}={}){const a=this;a.deviceIds=t,a.networkIds=e,a.deviceTypeIds=s,a.names=i,a.timestamp=r,a.waitTimeout=n,a.limit=o}get deviceIds(){return this._deviceIds}set deviceIds(t){this._deviceIds=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}get limit(){return this._limit}set limit(t){this._limit=t}toObject(){const t=this;return{deviceIds:t.deviceIds,networkIds:t.networkIds,deviceTypeIds:t.deviceTypeIds,names:t.names,timestamp:t.timestamp,waitTimeout:t.waitTimeout,limit:t.limit}}}},{}],43:[function(t,e,s){e.exports=class{constructor({deviceId:t,start:e,end:s,command:i,status:r,sortField:n,sortOrder:o,take:a,skip:d}={}){const u=this;u.deviceId=t,u.start=e,u.end=s,u.command=i,u.status=r,u.sortField=n,u.sortOrder=o,u.take=a,u.skip=d}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}set end(t){this._end=t}get command(){return this._command}set command(t){this._command=t}get status(){return this._status}set status(t){this._status=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{deviceId:t.deviceId,start:t.start,end:t.end,command:t.command,status:t.status,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],46:[function(t,e,s){e.exports=class{constructor({waitTimeout:t}={}){this.waitTimeout=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){return{waitTimeout:this.waitTimeout}}}},{}],47:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,networkId:s,networkName:i}={}){this.name=t,this.namePattern=e,this.networkId=s,this.networkName=i}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get networkName(){return this._networkName}set networkName(t){this._networkName=t}toObject(){return{name:this.name,namePattern:this.namePattern,networkId:this.networkId,networkName:this.networkName}}}},{}],49:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e}={}){this.name=t,this.namePattern=e}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}toObject(){return{name:this.name,namePattern:this.namePattern}}}},{}],48:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,networkId:s,networkName:i,sortField:r,sortOrder:n,take:o,skip:a}={}){const d=this;d.name=t,d.namePattern=e,d.networkId=s,d.networkName=i,d.sortField=r,d.sortOrder=n,d.take=o,d.skip=a}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get networkName(){return this._networkName}set networkName(t){this._networkName=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{name:t.name,namePattern:t.namePattern,networkId:t.networkId,networkName:t.networkName,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],50:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,sortField:s,sortOrder:i,take:r,skip:n}={}){const o=this;o.name=t,o.namePattern=e,o.sortField=s,o.sortOrder=i,o.take=r,o.skip=n}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{name:t.name,namePattern:t.namePattern,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],59:[function(t,e,s){e.exports=class{constructor({deviceId:t,networkIds:e,deviceTypeIds:s,names:i,returnCommands:r,returnUpdatedCommands:n,returnNotifications:o,status:a,parameters:d}={}){this.deviceId=t,this.networkIds=e,this.deviceTypeIds=s,this.names=i,this.returnCommands=r,this.returnUpdatedCommands=n,this.returnNotifications=o,this.status=a,this.name=name,this.description=description,this.parameters=d}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get returnCommands(){return this._returnCommands}set returnCommands(t){this._returnCommands=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get returnNotifications(){return this._returnNotifications}set returnNotifications(t){this._returnNotifications=t}get status(){return this._status}set status(t){this._status=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{deviceId:this.deviceId,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,returnCommands:this.returnCommands,returnUpdatedCommands:this.returnUpdatedCommands,returnNotifications:this.returnNotifications,status:this.status,name:this.name,description:this.description,parameters:this.parameters}}}},{}],51:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e}={}){this.name=t,this.namePattern=e}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}toObject(){return{name:this.name,namePattern:this.namePattern}}}},{}],52:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,sortField:s,sortOrder:i,take:r,skip:n}={}){const o=this;o.name=t,o.namePattern=e,o.sortField=s,o.sortOrder=i,o.take=r,o.skip=n}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{name:t.name,namePattern:t.namePattern,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],53:[function(t,e,s){e.exports=class{constructor({deviceId:t,start:e,end:s,notification:i,status:r,sortField:n,sortOrder:o,take:a,skip:d}={}){const u=this;u.deviceId=t,u.start=e,u.end=s,u.notification=i,u.status=r,u.sortField=n,u.sortOrder=o,u.take=a,u.skip=d}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}set end(t){this._end=t}get notification(){return this._notification}set notification(t){this._notification=t}get status(){return this._status}set status(t){this._status=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{deviceId:t.deviceId,start:t.start,end:t.end,notification:t.notification,status:t.status,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],54:[function(t,e,s){e.exports=class{constructor({deviceIds:t,networkIds:e,deviceTypeIds:s,names:i,timestamp:r,waitTimeout:n}={}){const o=this;o.deviceIds=t,o.networkIds=e,o.deviceTypeIds=s,o.names=i,o.timestamp=r,o.waitTimeout=n}get deviceIds(){return this._deviceIds}set deviceIds(t){this._deviceIds=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){const t=this;return{deviceIds:t.deviceIds,networkIds:t.networkIds,deviceTypeIds:t.deviceTypeIds,names:t.names,timestamp:t.timestamp,waitTimeout:t.waitTimeout}}}},{}],55:[function(t,e,s){e.exports=class{constructor({deviceId:t,names:e,timestamp:s,waitTimeout:i}={}){this.deviceId=t,this.names=e,this.timestamp=s,this.waitTimeout=i}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){return{deviceId:this.deviceId,names:this.names,timestamp:this.timestamp,waitTimeout:this.waitTimeout}}}},{}],60:[function(t,e,s){e.exports=class{constructor({login:t,loginPattern:e,role:s,status:i}={}){this.login=t,this.loginPattern=e,this.role=s,this.status=i}get login(){return this._login}set login(t){this._login=t}get loginPattern(){return this._loginPattern}set loginPattern(t){this._loginPattern=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}toObject(){return{login:this.login,loginPattern:this.loginPattern,role:this.role,status:this.status}}}},{}],61:[function(t,e,s){e.exports=class{constructor({login:t,loginPattern:e,role:s,status:i,sortField:r,sortOrder:n,take:o,skip:a}={}){const d=this;d.login=t,d.loginPattern=e,d.role=s,d.status=i,d.sortField=r,d.sortOrder=n,d.take=o,d.skip=a}get login(){return this._login}set login(t){this._login=t}get loginPattern(){return this._loginPattern}set loginPattern(t){this._loginPattern=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){const t=this;return{login:t.login,loginPattern:t.loginPattern,role:t.role,status:t.status,sortField:t.sortField,sortOrder:t.sortOrder,take:t.take,skip:t.skip}}}},{}],56:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,topicName:s,status:i,userId:r}={}){this.name=t,this.namePattern=e,this.topicName=s,this.status=i,this.userId=r}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get status(){return this._status}set status(t){this._status=t}get userId(){return this._userId}set userId(t){this._userId=t}toObject(){return{name:this.name,namePattern:this.namePattern,topicName:this.topicName,status:this.status,userId:this.userId}}}},{}],58:[function(t,e,s){e.exports=class{constructor({deviceId:t,networkIds:e,deviceTypeIds:s,names:i,returnCommands:r,returnUpdatedCommands:n,returnNotifications:o}={}){this.deviceId=t,this.networkIds=e,this.deviceTypeIds=s,this.names=i,this.returnCommands=r,this.returnUpdatedCommands=n,this.returnNotifications=o}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get returnCommands(){return this._returnCommands}set returnCommands(t){this._returnCommands=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get returnNotifications(){return this._returnNotifications}set returnNotifications(t){this._returnNotifications=t}toObject(){return{deviceId:this.deviceId,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,returnCommands:this.returnCommands,returnUpdatedCommands:this.returnUpdatedCommands,returnNotifications:this.returnNotifications}}}},{}],57:[function(t,e,s){e.exports=class{constructor({name:t,namePattern:e,topicName:s,status:i,userId:r,sortField:n,sortOrder:o,take:a,skip:d}={}){this.name=t,this.namePattern=e,this.topicName=s,this.status=i,this.userId=r,this.sortField=n,this.sortOrder=o,this.take=a,this.skip=d}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get status(){return this._status}set status(t){this._status=t}get userId(){return this._userId}set userId(t){this._userId=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{name:this.name,namePattern:this.namePattern,topicName:this.topicName,status:this.status,userId:this.userId,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{}],21:[function(t,e,s){const i=t(13),r=t(24);e.exports=class extends i{getServerInfo(){return this.strategy.send(r.getServerInfo)}getCacheInfo(){return this.strategy.send(r.getCacheInfo)}getClusterInfo(){return this.strategy.send(r.getClusterInfo)}}},{13:13,24:24}],22:[function(t,e,s){const i=t(13),r=t(24);e.exports=class extends i{login(t,e){return this.send(r.login,{},{login:t,password:e})}authPlugin(t){return this.send(r.authPlugin,{},{token:t})}createUserToken(t){return this.send(r.createUserToken,{},t.toObject())}createPluginToken(t){return this.send(r.createPluginToken,{},t.toObject())}refresh(t){return this.send(r.refreshToken,{},t)}}},{13:13,24:24}],18:[function(t,e,s){const i=t(13),r=t(24),n=t(50),o=t(49);e.exports=class extends i{get(t){return this.send(r.getDeviceType,{deviceTypeId:t})}list(t=new n){return this.send(r.listDeviceType,t.toObject())}count(t=new o){return this.send(r.countDeviceType,t.toObject())}insert(t){return this.send(r.addDeviceType,{},t.toObject())}update(t){return this.send(r.updateDeviceType,{deviceTypeId:t.id},t.toObject())}delete(t){return this.send(r.deleteDeviceType,{deviceTypeId:t})}}},{13:13,24:24,49:49,50:50}],16:[function(t,e,s){const i=t(13),r=t(24),n=t(43),o=t(45),a=t(44);e.exports=class extends i{get(t,e){return this.send(r.getCommand,{deviceId:t,commandId:e})}list(t=new n){return this.send(r.listCommand,t.toObject())}insert(t,e){return this.send(r.insertCommand,{deviceId:t},e.toObject())}update(t){return this.send(r.updateCommand,{deviceId:t.deviceId,commandId:t.id},t.toObject())}poll(t=new o){return this.send(r.pollCommand,t.toObject())}pollMany(t=new a){return this.send(r.pollManyCommand,t.toObject())}wait(t,e){return this.send(r.waitCommand,{deviceId:t,commandId:e})}subscribe(t=new o){return this.send(r.subscribeCommand,t.toObject())}unsubscribe(t){return this.send(r.unsubscribeCommand,{subscriptionId:t})}}},{13:13,24:24,43:43,44:44,45:45}],14:[function(t,e,s){const i=t(13),r=t(24);e.exports=class extends i{get(t){return this.send(r.getConfiguration,{name:t})}put(t){return this.send(r.putConfiguration,{name:t.name,value:t.value})}delete(t){return this.send(r.deleteConfiguration,{name:t})}}},{13:13,24:24}],23:[function(t,e,s){const i=t(13),r=t(24),n=t(61),o=t(60);e.exports=class extends i{list(t=new n){return this.send(r.listUser,t.toObject())}count(t=new o){return this.send(r.countUser,t.toObject())}get(t){return this.send(r.getUser,{userId:t})}insert(t){return this.send(r.addUser,{},t.toObject())}update(t){return this.send(r.updateUser,{userId:t.id},t.toObject())}delete(t){return this.send(r.deleteUser,{userId:t})}getCurrent(){return this.send(r.getCurrentUser)}updateCurrent(t){return this.send(r.updateCurrentUser,{},t.toObject())}getDeviceTypes(t){return this.send(r.getUserDeviceType,{userId:t})}unassignAllDeviceTypes(t){return this.send(r.unassignAllDeviceTypes,{userId:t})}assignAllDeviceTypes(t){return this.send(r.assignAllDeviceTypes,{userId:t})}unassignDeviceType(t,e){return this.send(r.unassignDeviceType,{userId:t,deviceTypeId:e})}getDeviceType(t,e){return this.send(r.getUserDeviceType,{userId:t,deviceTypeId:e})}assignDeviceType(t,e){return this.send(r.assignDeviceType,{userId:t,deviceTypeId:e})}getNetwork(t,e){return this.send(r.getUserNetwork,{userId:t,networkId:e})}assignNetwork(t,e){return this.send(r.assignNetwork,{userId:t,networkId:e})}unassignNetwork(t,e){return this.send(r.unassignNetwork,{userId:t,networkId:e})}}},{13:13,24:24,60:60,61:61}],20:[function(t,e,s){const i=t(13),r=t(24),n=t(56),o=t(57),a=t(58),d=t(59);e.exports=class extends i{list(t=new o){return this.send(r.listPlugin,t.toObject())}count(t=new n){return this.send(r.countPlugin,t.toObject())}register(t,e=new a){const s={name:t.name,description:t.description,parameters:t.parameters};return this.send(r.registerPlugin,e.toObject(),s)}update(t=new d){return this.send(r.updatePlugin,t.toObject())}delete(t){return this.send(r.deletePlugin,{topicName:t})}}},{13:13,24:24,56:56,57:57,58:58,59:59}],19:[function(t,e,s){const i=t(13),r=t(24),n=t(52),o=t(51);e.exports=class extends i{get(t){return this.send(r.getNetwork,{networkId:t})}list(t=new n){return this.send(r.listNetwork,t.toObject())}count(t=new o){return this.send(r.countNetwork,t.toObject())}insert(t){return this.send(r.addNetwork,{},t.toObject())}update(t){return this.send(r.updateNetwork,{networkId:t.id},t.toObject())}delete(t){return this.send(r.deleteNetwork,{networkId:t})}}},{13:13,24:24,51:51,52:52}],17:[function(t,e,s){const i=t(13),r=t(24),n=t(53),o=t(55),a=t(54);e.exports=class extends i{get(t,e){return this.send(r.getNotification,{deviceId:t,notificationId:e})}list(t=new n){return this.send(r.listNotification,t.toObject())}insert(t,e){return this.send(r.insertNotification,{deviceId:t},e.toObject())}poll(t=new o){return this.send(r.pollNotification,t.toObject())}pollMany(t=new a){return this.send(r.pollManyNotification,t.toObject())}subscribe(t=new o){return this.send(r.subscribeNotification,t.toObject())}unsubscribe(t){return this.send(r.unsubscribeNotification,{subscriptionId:t})}}},{13:13,24:24,53:53,54:54,55:55}],15:[function(t,e,s){const i=t(13),r=t(24),n=t(47),o=t(48);e.exports=class extends i{get(t){return this.send(r.getDevice,{deviceId:t})}list(t=new o){return this.send(r.listDevice,t.toObject())}count(t=new n){return this.send(r.countDevice,t.toObject())}add(t){return this.send(r.addDevice,{deviceId:t.id},t.toObject())}delete(t){return this.send(r.deleteDevice,{deviceId:t})}}},{13:13,24:24,47:47,48:48}],24:[function(t,e,s){const i=t(25),r=t(26),n=t(28),o=t(30),a=new Map;class d{static get login(){return"login"}static get authPlugin(){return"authPlugin"}static get createUserToken(){return"createUserToken"}static get createPluginToken(){return"createPluginToken"}static get refreshToken(){return"refreshToken"}static get authenticatePlugin(){return"authenticatePlugin"}static get getServerInfo(){return"getServerInfo"}static get getCacheInfo(){return"getCacheInfo"}static get getClusterInfo(){return"getClusterInfo"}static get getConfiguration(){return"getConfiguration"}static get putConfiguration(){return"putConfiguration"}static get deleteConfiguration(){return"deleteConfiguration"}static get listDevice(){return"listDevice"}static get countDevice(){return"countDevice"}static get getDevice(){return"getDevice"}static get addDevice(){return"addDevice"}static get deleteDevice(){return"deleteDevice"}static get listDeviceType(){return"listDeviceType"}static get countDeviceType(){return"countDeviceType"}static get getDeviceType(){return"getDeviceType"}static get addDeviceType(){return"addDeviceType"}static get updateDeviceType(){return"updateDeviceType"}static get deleteDeviceType(){return"deleteDeviceType"}static get getCommand(){return"getCommand"}static get listCommand(){return"listCommand"}static get insertCommand(){return"insertCommand"}static get subscribeCommand(){return"subscribeCommand"}static get pollCommand(){return"pollCommand"}static get pollManyCommand(){return"pollManyCommand"}static get waitCommand(){return"waitCommand"}static get unsubscribeCommand(){return"unsubscribeCommand"}static get updateCommand(){return"updateCommand"}static get getNotification(){return"getNotification"}static get listNotification(){return"listNotification"}static get insertNotification(){return"insertNotification"}static get subscribeNotification(){return"subscribeNotification"}static get unsubscribeNotification(){return"unsubscribeNotification"}static get pollNotification(){return"pollNotification"}static get pollManyNotification(){return"pollManyNotification"}static get listNetwork(){return"listNetwork"}static get countNetwork(){return"countNetwork"}static get getNetwork(){return"getNetwork"}static get addNetwork(){return"addNetwork"}static get updateNetwork(){return"updateNetwork"}static get deleteNetwork(){return"deleteNetwork"}static get listUser(){return"listUser"}static get countUser(){return"countUser"}static get getUser(){return"getUser"}static get addUser(){return"addUser"}static get updateUser(){return"updateUser"}static get deleteUser(){return"deleteUser"}static get getCurrentUser(){return"getCurrentUser"}static get updateCurrentUser(){return"updateCurrentUser"}static get getUserDeviceTypes(){return"getUserDeviceTypes"}static get assignAllDeviceTypes(){return"assignAllDeviceTypes"}static get unassignAllDeviceTypes(){return"unassignAllDeviceTypes"}static get getUserDeviceType(){return"getUserDeviceType"}static get assignDeviceType(){return"assignDeviceType"}static get unassignDeviceType(){return"unassignDeviceType"}static get getUserNetwork(){return"getUserNetwork"}static get assignNetwork(){return"assignNetwork"}static get unassignNetwork(){return"unassignNetwork"}static get listPlugin(){return"listPlugin"}static get countPlugin(){return"countPlugin"}static get registerPlugin(){return"registerPlugin"}static get deletePlugin(){return"deletePlugin"}static get updatePlugin(){return"updatePlugin"}static get HTTP_API(){return"http"}static get WS_API(){return"ws"}static get MAIN_BASE(){return"main"}static get AUTH_BASE(){return"auth"}static get PLUGIN_BASE(){return"plugin"}static build(t,e,s,u){let c;const h=a.get(e);if(!h)throw new n;const p=h[t];if(!p)throw new o({key:e,transport:t});switch(t){case d.HTTP_API:c=new i(p);break;case d.WS_API:c=new r(p)}return c.build(s,u)}}a.set(d.login,{http:{method:"POST",uri:"/token",base:d.AUTH_BASE},ws:{action:"token"}}),a.set(d.authPlugin,{http:{method:"GET",uri:"/token/plugin/authenticate",base:d.AUTH_BASE},ws:{action:"token"}}),a.set(d.createUserToken,{http:{method:"POST",uri:"/token/create",base:d.AUTH_BASE},ws:{action:"token/create",bodyKey:"payload"}}),a.set(d.createPluginToken,{http:{method:"POST",uri:"/token/plugin/create",base:d.AUTH_BASE},ws:{action:"token/create",bodyKey:"payload"}}),a.set(d.refreshToken,{http:{method:"POST",uri:"/token/refresh",base:d.AUTH_BASE},ws:{action:"token/refresh"}}),a.set(d.createPluginToken,{http:{method:"POST",uri:"/token/plugin/create",base:d.AUTH_BASE}}),a.set(d.authenticatePlugin,{http:{method:"POST",uri:"/token/plugin/authenticate",base:d.AUTH_BASE}}),a.set(d.getServerInfo,{http:{method:"GET",uri:"/info",base:d.MAIN_BASE},ws:{action:"server/info"}}),a.set(d.getCacheInfo,{http:{method:"GET",uri:"/info/cache",base:d.MAIN_BASE},ws:{action:"cache/info"}}),a.set(d.getClusterInfo,{http:{method:"GET",uri:"/info/config/cluster",base:d.MAIN_BASE},ws:{action:"cluster/info"}}),a.set(d.getConfiguration,{http:{method:"GET",uri:"/configuration/{name}",base:d.MAIN_BASE},ws:{action:"configuration/get"}}),a.set(d.putConfiguration,{http:{method:"PUT",uri:"/configuration/{name}",base:d.MAIN_BASE},ws:{action:"configuration/put"}}),a.set(d.deleteConfiguration,{http:{method:"DELETE",uri:"/configuration/{name}",base:d.MAIN_BASE},ws:{action:"configuration/delete"}}),a.set(d.listDevice,{http:{method:"GET",uri:"/device",base:d.MAIN_BASE},ws:{action:"device/list"}}),a.set(d.countDevice,{http:{method:"GET",uri:"/device/count",base:d.MAIN_BASE},ws:{action:"device/count"}}),a.set(d.getDevice,{http:{method:"GET",uri:"/device/{deviceId}",base:d.MAIN_BASE},ws:{action:"device/get"}}),a.set(d.addDevice,{http:{method:"PUT",uri:"/device/{deviceId}",base:d.MAIN_BASE},ws:{action:"device/save",bodyKey:"device"}}),a.set(d.deleteDevice,{http:{method:"DELETE",uri:"/device/{deviceId}",base:d.MAIN_BASE},ws:{action:"device/delete"}}),a.set(d.listDeviceType,{http:{method:"GET",uri:"/devicetype",base:d.MAIN_BASE},ws:{action:"devicetype/list"}}),a.set(d.countDeviceType,{http:{method:"GET",uri:"/devicetype/count",base:d.MAIN_BASE},ws:{action:"devicetype/count"}}),a.set(d.getDeviceType,{http:{method:"GET",uri:"/devicetype/{deviceTypeId}",base:d.MAIN_BASE},ws:{action:"devicetype/get"}}),a.set(d.addDeviceType,{http:{method:"POST",uri:"/devicetype",base:d.MAIN_BASE},ws:{action:"devicetype/insert",bodyKey:"deviceType"}}),a.set(d.updateDeviceType,{http:{method:"PUT",uri:"/devicetype/{deviceTypeId}",base:d.MAIN_BASE},ws:{action:"devicetype/update",bodyKey:"deviceType"}}),a.set(d.deleteDeviceType,{http:{method:"DELETE",uri:"/devicetype/{deviceTypeId}",base:d.MAIN_BASE},ws:{action:"devicetype/delete"}}),a.set(d.listCommand,{http:{method:"GET",uri:"/device/{deviceId}/command",base:d.MAIN_BASE},ws:{action:"command/list"}}),a.set(d.getCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/{commandId}",base:d.MAIN_BASE},ws:{action:"command/get"}}),a.set(d.insertCommand,{http:{method:"POST",uri:"/device/{deviceId}/command",base:d.MAIN_BASE},ws:{action:"command/insert",bodyKey:"command"}}),a.set(d.updateCommand,{http:{method:"POST",uri:"/device/{deviceId}/command/{commandId}",base:d.MAIN_BASE},ws:{action:"command/update",bodyKey:"command"}}),a.set(d.pollCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/poll",base:d.MAIN_BASE}}),a.set(d.pollManyCommand,{http:{method:"GET",uri:"/device/command/poll",base:d.MAIN_BASE}}),a.set(d.waitCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/{commandId}/poll",base:d.MAIN_BASE}}),a.set(d.subscribeCommand,{http:{method:"GET",uri:"/device/command/poll",base:d.MAIN_BASE,subscription:!0},ws:{action:"command/subscribe"}}),a.set(d.unsubscribeCommand,{http:{unsubscription:!0},ws:{action:"command/unsubscribe"}}),a.set(d.listNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification",base:d.MAIN_BASE},ws:{action:"notification/list"}}),a.set(d.getNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification/{notificationId}",base:d.MAIN_BASE},ws:{action:"notification/get"}}),a.set(d.insertNotification,{http:{method:"POST",uri:"/device/{deviceId}/notification",base:d.MAIN_BASE},ws:{action:"notification/insert",bodyKey:"notification"}}),a.set(d.pollNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification/poll",base:d.MAIN_BASE}}),a.set(d.pollManyNotification,{http:{method:"GET",uri:"/device/notification/poll",base:d.MAIN_BASE}}),a.set(d.subscribeNotification,{http:{method:"GET",uri:"/device/notification/poll",base:d.MAIN_BASE,subscription:!0},ws:{action:"notification/subscribe"}}),a.set(d.unsubscribeNotification,{http:{unsubscription:!0},ws:{action:"notification/unsubscribe"}}),a.set(d.listNetwork,{http:{method:"GET",uri:"/network",base:d.MAIN_BASE},ws:{action:"network/list"}}),a.set(d.countNetwork,{http:{method:"GET",uri:"/network/count",base:d.MAIN_BASE},ws:{action:"network/count"}}),a.set(d.getNetwork,{http:{method:"GET",uri:"/network/{networkId}",base:d.MAIN_BASE},ws:{action:"network/get"}}),a.set(d.addNetwork,{http:{method:"POST",uri:"/network",base:d.MAIN_BASE},ws:{action:"network/insert",bodyKey:"network"}}),a.set(d.updateNetwork,{http:{method:"PUT",uri:"/network/{networkId}",base:d.MAIN_BASE},ws:{action:"network/update",bodyKey:"network"}}),a.set(d.deleteNetwork,{http:{method:"DELETE",uri:"/network/{networkId}",base:d.MAIN_BASE},ws:{action:"network/delete"}}),a.set(d.listUser,{http:{method:"GET",uri:"/user",base:d.MAIN_BASE},ws:{action:"user/list"}}),a.set(d.countUser,{http:{method:"GET",uri:"/user/count",base:d.MAIN_BASE},ws:{action:"user/count"}}),a.set(d.getUser,{http:{method:"GET",uri:"/user/{userId}",base:d.MAIN_BASE},ws:{action:"user/get"}}),a.set(d.addUser,{http:{method:"POST",uri:"/user",base:d.MAIN_BASE},ws:{action:"user/insert",bodyKey:"user"}}),a.set(d.updateUser,{http:{method:"PUT",uri:"/user/{userId}",base:d.MAIN_BASE},ws:{action:"user/update",bodyKey:"user"}}),a.set(d.deleteUser,{http:{method:"DELETE",uri:"/user/{userId}",base:d.MAIN_BASE},ws:{action:"user/delete"}}),a.set(d.getCurrentUser,{http:{method:"GET",uri:"/user/current",base:d.MAIN_BASE},ws:{action:"user/getCurrent"}}),a.set(d.updateCurrentUser,{http:{method:"PUT",uri:"/user/current",base:d.MAIN_BASE},ws:{action:"user/updateCurrent",bodyKey:"user"}}),a.set(d.getUserDeviceTypes,{http:{method:"GET",uri:"/user/{userId}/devicetype",base:d.MAIN_BASE}}),a.set(d.unassignAllDeviceTypes,{http:{method:"DELETE",uri:"/user/{userId}/devicetype/all",base:d.MAIN_BASE}}),a.set(d.assignAllDeviceTypes,{http:{method:"PUT",uri:"/user/{userId}/devicetype/all",base:d.MAIN_BASE}}),a.set(d.unassignDeviceType,{http:{method:"DELETE",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:d.MAIN_BASE}}),a.set(d.getUserDeviceType,{http:{method:"GET",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:d.MAIN_BASE}}),a.set(d.assignDeviceType,{http:{method:"PUT",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:d.MAIN_BASE}}),a.set(d.getUserNetwork,{http:{method:"GET",uri:"/user/{userId}/network/{networkId}",base:d.MAIN_BASE},ws:{action:"user/getNetwork"}}),a.set(d.assignNetwork,{http:{method:"PUT",uri:"/user/{userId}/network/{networkId}",base:d.MAIN_BASE},ws:{action:"user/assignNetwork"}}),a.set(d.unassignNetwork,{http:{method:"DELETE",uri:"/user/{userId}/network/{networkId}",base:d.MAIN_BASE},ws:{action:"user/unassignNetwork"}}),a.set(d.listPlugin,{http:{method:"GET",uri:"/plugin",base:d.PLUGIN_BASE}}),a.set(d.countPlugin,{http:{method:"GET",uri:"/plugin/count",base:d.PLUGIN_BASE}}),a.set(d.registerPlugin,{http:{method:"POST",uri:"/plugin",base:d.PLUGIN_BASE}}),a.set(d.deletePlugin,{http:{method:"DELETE",uri:"/plugin",base:d.PLUGIN_BASE}}),a.set(d.updatePlugin,{http:{method:"PUT",uri:"/plugin",base:d.PLUGIN_BASE}}),e.exports=d},{25:25,26:26,28:28,30:30}],28:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="No API selected.\nPlease, choose one according to documentation."}}},{}],30:[function(t,e,s){e.exports=class extends Error{constructor({key:t,transport:e}){super(),this.message=`${t} API is not supported by the ${e} transport.`}}},{}],26:[function(t,e,s){const i=t(65);e.exports=class{constructor({action:t,bodyKey:e}){this.action=t,this.bodyKey=e}build(t,e){const s=i.isObjectEmpty(t)&&!this.bodyKey?Object.assign({},e):Object.assign({},t);return s.action=this.action,e&&this.bodyKey&&(s[this.bodyKey]=e),s}}},{65:65}],25:[function(t,e,s){const i=t(8),r=t(6);class n{static buildUrl(t,e){return`${i(t,e)}?${r.stringify(e)}`}constructor({method:t,uri:e,base:s,subscription:i,unsubscription:r}){const n=this;n.method=t,n.uri=e,n.base=s,n.subscription=i,n.unsubscription=r}build(t,e){const s=this;let i;return!0===s.unsubscription?i={unsubscription:s.unsubscription,body:{subscriptionId:t.subscriptionId}}:(i={method:s.method,endpoint:n.buildUrl(s.uri,t),base:s.base,subscription:s.subscription},e&&(i.body=e)),i}}e.exports=n},{6:6,8:8}],32:[function(t,e,s){e.exports=class extends Error{constructor(t){super(),this.message=`Error using WebSocket.\nPlease, check server URL or try again later.\n${t.message}`}}},{}],64:[function(t,e,s){const i=t(3);e.exports=class extends i{authenticate(t){}send(){}}},{3:3}]},{},[1]);